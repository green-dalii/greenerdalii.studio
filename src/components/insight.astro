---
import ContentSection from "./content-section.astro";
import InsightCard from "./insight-card.astro";
import Btn from "./button.astro";
// import type { InsightSite } from "../types";
import { getCollection } from "astro:content";
// è·å–å‰ä¸‰ç¯‡åšå®¢ä¿¡æ¯
var selectedPosts = await getCollection("insight");
// æŒ‰æ—¥æœŸå€’åºæ’åº
selectedPosts.sort((a, b) => {
  const dateA = new Date(a.data.pubDate).getTime();
  const dateB = new Date(b.data.pubDate).getTime();
  return dateB - dateA;
});
selectedPosts = selectedPosts.slice(0,3)
---

<ContentSection title="å“ç‰Œæ´å¯Ÿ" subtitle="Our Insights" id="insight">
  <Fragment slot="description">
    Greener-Dalii Studioæ·±å…¥ç ”ç©¶å¸‚åœºè¶‹åŠ¿ï¼Œç²¾å‡†å‰–ææ¶ˆè´¹è€…å¿ƒç†ï¼Œåˆ†äº«ç‹¬åˆ°çš„å“ç‰Œè§è§£å’Œå‰æ²¿è®¾è®¡æ€è€ƒã€‚è·Ÿéšæˆ‘ä»¬çš„è§†è§’ï¼Œä¸€èµ·æ¢ç´¢å“ç‰Œç”Ÿå‘½åŠ›çš„æºæ³‰ä¸æ— é™å¯èƒ½æ€§ã€‚
  </Fragment>
  <Fragment slot="description-below">
    Greener-Dalii Studio delves deeply into market trends, meticulously dissects
    consumer psychology, and shares profound brand perspectives and cutting-edge
    design philosophies. Join us on a journey to explore the wellspring of brand
    vitality and endless possibilities.
  </Fragment>
  <Fragment slot="content">
    <!-- Card Blog -->
    <div class="mx-auto max-w-7xl py-0">
      <!-- Grid -->
      <div class="grid gap-6 lg:grid-cols-3">
        <!-- {sites.map((site) => <InsightCard site={site} />)} -->
        {selectedPosts.map((post) => <InsightCard post={post} />)}
      </div>
      <!-- End Grid -->
    </div>
    <!-- End Card Blog -->
    <div class="mt-10 text-center">
      <Btn btnText="Read More ğŸ“„" btnAltText="é˜…è¯»æ›´å¤š ğŸ“„" url="/insight"></Btn>
    </div>
  </Fragment>
</ContentSection>
